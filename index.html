<!DOCTYPE html>
<html lang="en">
  <head>
  <link href="https://fonts.googleapis.com/css?family=Barrio" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="css/index.css">
  </head>
  <body>
    <div class="display-area">
    <h1>Welcome to Note Maker</h1>
    <div>
      <textarea id='note' rows='10' cols='30' type='text'></textarea>
      <button id='create'>Create Note</button>
    </div>
    <div id='notes'>
    </div>

    <div id ='note-display'> </div>
  </div>

    <script type='text/javascript' src="src/notePad.js"></script>
    <script>
      var notePad = new NotePad();

      document.getElementById("create").addEventListener("click", function() {
        var addedNote = document.getElementById("note").value
        notePad.addNote(addedNote);
        var note_index = notePad.notes.indexOf(addedNote);
        var note = notePad.shortenString(addedNote);
          var list = document.getElementById("notes")
        list.innerHTML = `<a href='#${note_index}'><p id='entry${note_index}'>${note}</p></a>` + list.innerHTML;
        })

      window.addEventListener("hashchange", function() {
        var indexNumber = window.location.hash.split("#")[1];
        document.getElementById("note-display").innerHTML = '<div id="full-note">' + notePad.notes[indexNumber] + '</div>' + '<button id="delete">Delete Note</button>'

        document.getElementById("delete").addEventListener("click", function() {
          var deletedNote = document.getElementById("full-note").value;
          notePad.deleteNote(deletedNote);
          document.getElementById("note-display").innerHTML = "";
  
        });
      });


    </script>
  </body>
</html>
